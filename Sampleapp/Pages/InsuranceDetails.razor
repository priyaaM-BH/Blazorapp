@page "/insurance-details"

@inherits BaseComponent;

<PageTitle>Insurance Details</PageTitle>

<button @onclick="GoToPrevious">back</button>
<h4 class="header">Insurance Details</h4>
<EditForm Model="@_wipInsuranceSeries.InsuranceDetailsForm" OnValidSubmit="HandleValidSubmit">
    <div class="form-group">
        <label for="memberId">Member ID</label>
        <InputText id="memberId" class="form-control" @bind-Value="_wipInsuranceSeries.InsuranceDetailsForm.MemberId" />
    </div>

    <div class="form-group">
        <label for="groupNumber">Group Number</label>
        <InputText id="groupNumber" class="form-control" @bind-Value="_wipInsuranceSeries.InsuranceDetailsForm.GroupNumber" />
    </div>

    <div class="form-group">
        <label for="poBoxZipCode">PO Box and ZIP Code</label>
        <InputText id="poBoxZipCode" class="form-control" @bind-Value="_wipInsuranceSeries.InsuranceDetailsForm.PoBoxZipCode" />
    </div>

    <button class="btn btn-primary" type="submit" >Next</button>
</EditForm>

@code {   
    protected override void OnInitialized()
        {
            if(!BaseComponent.InsurancePageDirectives.Contains("insurance-details"))
            {
                BaseComponent.InsurancePageDirectives.Add("insurance-details");
            }
        }
        private void HandleValidSubmit() 
        {
            _navigationManager.NavigateTo("insurance-information");
        }

        private void GoToPrevious()
        {
            BaseComponent.InsurancePageDirectives.Remove("insurance-details");
            _navigationManager.NavigateTo("/insurance");
        }
    }