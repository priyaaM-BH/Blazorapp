@page "/insurance-information"
@inherits BaseComponent;
<button @onclick="GoToPrevious">back</button>

<h4>Insurance Information</h4>


<div class="insurance-container">
    <h5>Insurance</h5>
    <p>@_wipInsuranceSeries.InsuranceDetailsForm.MemberId</p>
    <p>@_wipInsuranceSeries.InsuranceDetailsForm.GroupNumber</p>
    <p>@_wipInsuranceSeries.InsuranceDetailsForm.PoBoxZipCode</p>

<button class="btn btn-primary" @onclick="HandleValidSubmit">Next</button>
</div>


@code
{
    protected override void OnInitialized()
        {
            if(!BaseComponent.InsurancePageDirectives.Contains("insurance-information"))
            {
                BaseComponent.InsurancePageDirectives.Add("insurance-information");
            }
        }
    private void HandleValidSubmit() 
    {
        string whereFromValue = "insurance";
        string targetUrl = $"/controller/next/{whereFromValue}";
        _navigationManager.NavigateTo(targetUrl);
    }

    private void GoToPrevious()
    {
        BaseComponent.InsurancePageDirectives.Remove("insurance-information");
        _navigationManager.NavigateTo("/insurance-details");
    }
}